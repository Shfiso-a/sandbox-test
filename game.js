class _A{constructor(a,b,c){this.i=document.getElementById(a);this.j=b;this.k=c;this.i.width=this.j;this.i.height=this.k;this.l=this.i.getContext('\x32\x64');this.m=new Array(this.j*this.k);this.n=this.l.createImageData(this.j,this.k);this._a()}_a(){for(let d=0;d<this.m.length;d++){this.m[d]={p:'\x65\x6d\x70\x74\x79',q:!1}}}_b(e,f,g){if(e<0||e>=this.j||f<0||f>=this.k){return}const h=f*this.j+e;const i={p:g,q:!1};if(g==='\x66\x69\x72\x65'){i.r=100+Math.random()*100}this.m[h]=i}_c(e,f){if(e<0||e>=this.j||f<0||f>=this.k){return{p:'\x77\x61\x6c\x6c'}}return this.m[f*this.j+e]}_d(e,f,g,h){const i=f*this.j+e;const j=h*this.j+g;const k=this.m[i];this.m[i]=this.m[j];this.m[j]=k;this.m[i].q=!0;this.m[j].q=!0}_e(){for(let d=0;d<this.m.length;d++){this.m[d].q=!1}const e=Array.from(Array(this.j).keys());const f=Array.from(Array(this.k).keys());e.sort(()=>Math.random()-0.5);for(const h of f.reverse()){for(const g of e){const i=h*this.j+g;const j=this.m[i];if(j.q){continue}switch(j.p){case'\x73\x61\x6e\x64':case'\x61\x73\x68':this._f(g,h);break;case'\x77\x61\x74\x65\x72':this._g(g,h);break;case'\x70\x6c\x61\x6e\x74':this._h(g,h);break;case'\x66\x69\x72\x65':this._i(g,h);break}}}}_f(e,f){const g=this._c(e,f+1);if(g.p==='\x65\x6d\x70\x74\x79'||g.p==='\x77\x61\x74\x65\x72'){this._d(e,f,e,f+1);return}const h=Math.random()<0.5?1:-1;const i=this._c(e+h,f+1);if(i.p==='\x65\x6d\x70\x74\x79'||i.p==='\x77\x61\x74\x65\x72'){this._d(e,f,e+h,f+1);return}const j=this._c(e-h,f+1);if(j.p==='\x65\x6d\x70\x74\x79'||j.p==='\x77\x61\x74\x65\x72'){this._d(e,f,e-h,f+1)}}_g(e,f){const g=this._c(e,f+1);if(g.p==='\x65\x6d\x70\x74\x79'){this._d(e,f,e,f+1);return}const h=Math.random()<0.5?1:-1;const i=this._c(e+h,f+1);if(i.p==='\x65\x6d\x70\x74\x79'){this._d(e,f,e+h,f+1);return}const j=this._c(e-h,f+1);if(j.p==='\x65\x6d\x70\x74\x79'){this._d(e,f,e-h,f+1);return}const k=this._c(e+h,f);if(k.p==='\x65\x6d\x70\x74\x79'){this._d(e,f,e+h,f);return}const l=this._c(e-h,f);if(l.p==='\x65\x6d\x70\x74\x79'){this._d(e,f,e-h,f)}}_h(e,f){let g=!1;for(let h=-2;h<=2;h++){for(let i=-2;i<=2;i++){if(this._c(e+h,f+i).p==='\x77\x61\x74\x65\x72'){g=!0;break}}if(g)break}if(g&&Math.random()<0.05){if(this._c(e,f-1).p==='\x65\x6d\x70\x74\x79'){this._b(e,f-1,'\x70\x6c\x61\x6e\x74')}}}_i(e,f){const g=this._c(e,f);g.r--;if(g.r<=0){this._b(e,f,'\x61\x73\x68');return}const h=[[0,1],[0,-1],[1,0],[-1,0]];for(const[i,j]of h){const k=e+i;const l=f+j;const m=this._c(k,l);if(m.p==='\x70\x6c\x61\x6e\x74'&&Math.random()<0.4){this._b(k,l,'\x66\x69\x72\x65')}if(m.p==='\x77\x61\x74\x65\x72'){this._b(e,f,'\x65\x6d\x70\x74\x79');return}}if(this._c(e,f-1).p==='\x65\x6d\x70\x74\x79'&&Math.random()<0.5){this._d(e,f,e,f-1)}}_o(){const d=this.n.data;for(let e=0;e<this.m.length;e++){const f=this.m[e];const g=e*4;let h=0,i=0,j=0;switch(f.p){case'\x73\x61\x6e\x64':h=194;i=178;j=128;break;case'\x77\x61\x74\x65\x72':h=64;i=150;j=255;break;case'\x73\x74\x6f\x6e\x65':h=128;i=128;j=128;break;case'\x70\x6c\x61\x6e\x74':h=40;i=180;j=80;break;case'\x66\x69\x72\x65':const k=f.r/200;h=255;i=Math.floor(200*k);j=0;break;case'\x61\x73\x68':h=80;i=80;j=80;break}d[g]=h;d[g+1]=i;d[g+2]=j;d[g+3]=255}this.l.putImageData(this.n,0,0)}}document.addEventListener('\x44\x4f\x4d\x43\x6f\x6e\x74\x65\x6e\x74\x4c\x6f\x61\x64\x65\x64',()=>{const s=150;const t=new _A('\x67\x61\x6d\x65\x43\x61\x6e\x76\x61\x73',s,s);let u='\x73\x61\x6e\x64';let v=5;let w=!1;const e=document.getElementById('\x73\x61\x6e\x64\x2d\x62\x74\x6e');const f=document.getElementById('\x77\x61\x74\x65\x72\x2d\x62\x74\x6e');const g=document.getElementById('\x73\x74\x6f\x6e\x65\x2d\x62\x74\x6e');const h=document.getElementById('\x70\x6c\x61\x6e\x74\x2d\x62\x74\x6e');const i=document.getElementById('\x66\x69\x72\x65\x2d\x62\x74\x6e');const j=document.getElementById('\x65\x72\x61\x73\x65\x72\x2d\x62\x74\x6e');const k=document.getElementById('\x62\x72\x75\x73\x68\x53\x69\x7a\x65');const l=document.getElementById('\x72\x65\x73\x65\x74\x2d\x62\x74\x6e');const m=[e,f,g,h,i,j];function _x(d){m.forEach(a=>a.classList.remove('\x61\x63\x74\x69\x76\x65'));d.classList.add('\x61\x63\x74\x69\x76\x65')}e.addEventListener('\x63\x6c\x69\x63\x6b',()=>{u='\x73\x61\x6e\x64';_x(e)});f.addEventListener('\x63\x6c\x69\x63\x6b',()=>{u='\x77\x61\x74\x65\x72';_x(f)});g.addEventListener('\x63\x6c\x69\x63\x6b',()=>{u='\x73\x74\x6f\x6e\x65';_x(g)});h.addEventListener('\x63\x6c\x69\x63\x6b',()=>{u='\x70\x6c\x61\x6e\x74';_x(h)});i.addEventListener('\x63\x6c\x69\x63\x6b',()=>{u='\x66\x69\x72\x65';_x(i)});j.addEventListener('\x63\x6c\x69\x63\x6b',()=>{u='\x65\x6d\x70\x74\x79';_x(j)});l.addEventListener('\x63\x6c\x69\x63\x6b',()=>t._a());k.addEventListener('\x69\x6e\x70\x75\x74',(d)=>{v=parseInt(d.target.value,10)});function _y(d){if(!w)return;const a=t.i.getBoundingClientRect();const b=t.i.width/a.width;const c=t.i.height/a.height;const n=(d.clientX-a.left)*b;const _=(d.clientY-a.top)*c;const p=v;for(let q=-p;q<=p;q++){for(let r=-p;r<=p;r++){if(q*q+r*r<=p*p){const H=Math.floor(n+q);const I=Math.floor(_+r);if(Math.random()>0.3){t._b(H,I,u)}}}}}t.i.addEventListener('\x6d\x6f\x75\x73\x65\x64\x6f\x77\x6e',(d)=>{w=!0;_y(d)});t.i.addEventListener('\x6d\x6f\x75\x73\x65\x75\x70',()=>{w=!1});t.i.addEventListener('\x6d\x6f\x75\x73\x65\x6d\x6f\x76\x65',_y);t.i.addEventListener('\x6d\x6f\x75\x73\x65\x6c\x65\x61\x76\x65',()=>{w=!1});function _z(){t._e();t._o();requestAnimationFrame(_z)}_z()});
